### 腾讯2面
#### 项目方面
- 你的通信应用里面A和B两个客户是如何通信的。 答： 使用channel.attr() 在服务端维护一个客户端id和channel的hashMap, 
当客户端发出请求的时候就从服务端取出对应的channel
- 你的粘包和沾包指的是什么？ 答：tcp是一个流式协议不保证消息完整性，可能会因为网络， recv buffer 等原因出现粘包拆包的问题。追问：那你是怎么解决的。答：通过在消息报文里面设置一个字段表示消息实体长度。追问：你的消息报文格式是怎样的。答：首先是magic number 用于用户
识别， 然后是指令， 指令后面是消息长度，最后是content. 问：你用了多大的位置表示呢？ 答：1个byte. 问那能有多大呢？答：256。 追问：那你消息长度不会
超出去么？ 语塞。。。
#### http
- 所有的协议都要解决粘包拆包的问题吗？ 答：基于udp就不用。追问：那http是如何解决粘包拆包的问题？我： 分隔符？ 面试官笑着继续追问： 说一下http报文的格式？ 我： 略。 追问： header 有哪些？ 我： 略。 面试官：表示消息长度的header是什么？我： content-length. 面试官：那
http是如何解决粘包拆包的问题？ 我（凌乱）：好像也可以用content-length?
- http 1.0 和1.1 的区别在哪里？ 我：http1.1增加了option head 等一些http 动作 ， 增加了对长连接的支持。 追问：我现在用http1.1 的客户端
同时发一万个请求， 可以吗？ 我： 可以？ 然后面试官陪着我推演了一波， 否定了我。 我就说： 不可以， 但是http2可以。 
面试官： 为什么？我：加入了序列号吧。 面试官：你拿http1.1 实现一下这个特性。我： 在请求报文里加入一个header表示序列号。追问：那如何处理响应呢？
我：维持一个缓存队列，然后按序列号大小消耗。
#### 并发
- 你的项目里面用了hashmap? hashmap 是怎么实现的。 我： 略。 这种实现有什么问题？ 我： 在hash碰撞严重的时候搜索效率下降。 追问：迭代的同
时修改元素会如何？我： fail fast 报并发修改错误。 问： 那该怎办呢？ 我： 可以用concurrentHashMap
- concurrentHashMap 原理？ 我：jdk7, jdk8两个版本。简单介绍了下jdk7版本的，讲了下segment 和对entry里面属性的修改
- 你的项目明显会有并发操作， 为什么还要用hashmap 我： 老实承认只是保证了channelhandler的shareble的但没考虑到里面集合的并发
- 线程池的实现了解过吗
#### NIO
- 如何判断状态读就绪？ 如何判断状态写就绪？
#### 网络
- TCP报文里面有ip吗

#### web
- spring aop 是如何实现的？ 我： 只知道基于代理， 源码没看过。。。
- mysql 驱动参数有哪些？ 我： url, password, username. 追问：还有呢？ 我：存储引擎的设置。事务的设置。还有一些安全的设置。
（面试官还想问更多， 但是我已经不知道了）
- 线程池的实现了解过吗？ 知道原理但是具体实现没有。
- shell了解的怎么样。打印一个目录的大小用什么？给你一个日志，日志中有一个数据是任务耗时， 现在要你取出大于200的，你怎么操作？
答： 可以sort 然后取出大于200的重定向的一个文件中。

